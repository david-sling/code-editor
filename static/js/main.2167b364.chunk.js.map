{"version":3,"sources":["context/code.js","hooks/useLocalStorage.js","config/files.ts","components/Editor.tsx","context/displayVertical.js","context/paneOpen.js","components/NavBar.tsx","components/Output.tsx","components/SidePane.tsx","pages/Edit.tsx","App.tsx","index.tsx"],"names":["defaultValues","html","css","js","CodeContext","createContext","CodeProvider","children","useParams","id","ID","useState","setId","key","initialValue","item","window","localStorage","getItem","JSON","parse","error","console","log","storedValue","setStoredValue","value","valueToStore","Function","setItem","stringify","useLocalStorage","code","setCode","current","setCurrent","source","setSource","useEffect","Provider","files","name","extension","icon","Editor","useContext","i","find","f","language","setLanguage","className","height","theme","onChange","v","p","DisplayVerticalContext","DisplayVerticalProvider","displayVertical","setDisplayVertical","toggleDisplayVertical","PaneOpenContext","PaneOpenProvider","panelOpen","setPaneOpen","togglePaneOpen","NavBar","Menu","onClick","HorizontalSplit","VerticalSplit","Output","srcDoc","SidePane","map","file","highlighted","File","style","fontSize","Edit","EditPage","App","path","component","to","uuid","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.2167b364.chunk.js","sourcesContent":["import React, { useState, createContext, useEffect } from \"react\";\r\nimport { useParams } from \"react-router-dom\";\r\nimport useLocalStorage from \"../hooks/useLocalStorage\";\r\n\r\nconst defaultValues = {\r\n  html: `<h1>WELCOME</h1>`,\r\n  css: `h1:hover { text-decoration: underline; }`,\r\n  js: `document.querySelector(\"h1\").style.color=\"red\"`,\r\n};\r\n\r\nexport const CodeContext = createContext();\r\n\r\nexport const CodeProvider = ({ children }) => {\r\n  const { id: ID = \"\" } = useParams();\r\n  const [id, setId] = useState(ID);\r\n  const [code, setCode] = useLocalStorage(\"code-\" + id, defaultValues);\r\n  const [current, setCurrent] = useState(\"html\");\r\n\r\n  const [source, setSource] = useState(\"\");\r\n\r\n  useEffect(() => {\r\n    setSource(`\r\n      <html>\r\n        <style>${code.css}</style>\r\n        <body>${code.html}</body>\r\n        <script>${code.js}</script>\r\n      </html>\r\n      `);\r\n  }, [code]);\r\n\r\n  const value = {\r\n    code,\r\n    setCode,\r\n    current,\r\n    setCurrent,\r\n    source,\r\n    setSource,\r\n    id,\r\n    setId,\r\n  };\r\n\r\n  return <CodeContext.Provider value={value}>{children}</CodeContext.Provider>;\r\n};\r\n","import { useState } from \"react\";\r\n\r\nexport default function useLocalStorage(key, initialValue) {\r\n  const [storedValue, setStoredValue] = useState(() => {\r\n    try {\r\n      const item = window.localStorage.getItem(key);\r\n      return item ? JSON.parse(item) : initialValue;\r\n    } catch (error) {\r\n      console.log(error);\r\n      return initialValue;\r\n    }\r\n  });\r\n\r\n  const setValue = (value) => {\r\n    try {\r\n      const valueToStore =\r\n        value instanceof Function ? value(storedValue) : value;\r\n      setStoredValue(valueToStore);\r\n      // Save to local storage\r\n      window.localStorage.setItem(key, JSON.stringify(valueToStore));\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  };\r\n\r\n  return [storedValue, setValue];\r\n}\r\n","import html from \"@iconify/icons-vscode-icons/file-type-html\";\r\nimport css from \"@iconify/icons-vscode-icons/file-type-css\";\r\nimport js from \"@iconify/icons-vscode-icons/file-type-js\";\r\n\r\nconst files = [\r\n  { name: \"index\", extension: \"html\", icon: html },\r\n  { name: \"index\", extension: \"css\", icon: css },\r\n  { name: \"index\", extension: \"js\", icon: js },\r\n];\r\n\r\nexport default files;\r\n","import React, { useState, useContext } from \"react\";\r\nimport CodeEditor from \"@monaco-editor/react\";\r\nimport { CodeContext } from \"../context/code\";\r\nimport files from \"../config/files\";\r\nimport Icon from \"@iconify/react\";\r\nimport { useEffect } from \"react\";\r\n\r\nexport default function Editor() {\r\n  const { code, setCode, current } = useContext(CodeContext);\r\n  const i: any = files.find((f) => f.extension == current)?.icon;\r\n  console.log(current);\r\n  const [language, setLanguage] = useState(\r\n    current == \"js\" ? \"javascript\" : current\r\n  );\r\n\r\n  useEffect(() => {\r\n    console.log({ code: code[current], current });\r\n    setLanguage(current == \"js\" ? \"javascript\" : current);\r\n  }, [current]);\r\n\r\n  useEffect(() => {\r\n    console.log({ language });\r\n  }, [language]);\r\n\r\n  return (\r\n    <div className=\"Editor\">\r\n      <div className=\"head\">\r\n        <Icon icon={i} />\r\n        <p>index.{current}</p>\r\n      </div>\r\n      <CodeEditor\r\n        height=\"100vh\"\r\n        theme=\"vs-dark\"\r\n        // defaultLanguage={defaultLanguage}\r\n        language={language}\r\n        onChange={(v) =>\r\n          setCode((p: { html: string; js: string; css: string }) => ({\r\n            ...p,\r\n            [current]: v,\r\n          }))\r\n        }\r\n        value={code[current]}\r\n      />\r\n    </div>\r\n  );\r\n}\r\n","import React, { createContext, useState } from \"react\";\r\n\r\nexport const DisplayVerticalContext = createContext();\r\nexport const DisplayVerticalProvider = ({ children }) => {\r\n  const [displayVertical, setDisplayVertical] = useState(false);\r\n  const toggleDisplayVertical = () => setDisplayVertical((p) => !p);\r\n\r\n  const value = { displayVertical, setDisplayVertical, toggleDisplayVertical };\r\n  return (\r\n    <DisplayVerticalContext.Provider value={value}>\r\n      {children}\r\n    </DisplayVerticalContext.Provider>\r\n  );\r\n};\r\n","import React, { createContext, useState } from \"react\";\r\n\r\nexport const PaneOpenContext = createContext();\r\nexport const PaneOpenProvider = ({ children }) => {\r\n  const [panelOpen, setPaneOpen] = useState(false);\r\n  const togglePaneOpen = () => setPaneOpen((p) => !p);\r\n\r\n  const value = { panelOpen, setPaneOpen, togglePaneOpen };\r\n  return (\r\n    <PaneOpenContext.Provider value={value}>\r\n      {children}\r\n    </PaneOpenContext.Provider>\r\n  );\r\n};\r\n","import { HorizontalSplit, Menu, VerticalSplit } from \"@material-ui/icons\";\r\nimport React, { useContext } from \"react\";\r\nimport { CodeContext } from \"../context/code\";\r\nimport { DisplayVerticalContext } from \"../context/displayVertical\";\r\nimport { PaneOpenContext } from \"../context/paneOpen\";\r\n\r\nexport default function NavBar() {\r\n  const { panelOpen, togglePaneOpen } = useContext(PaneOpenContext);\r\n  const { displayVertical, toggleDisplayVertical } = useContext(\r\n    DisplayVerticalContext\r\n  );\r\n  return (\r\n    <header className=\"NavBar\">\r\n      <div className=\"left\">\r\n        <Menu\r\n          onClick={() => {\r\n            console.log({ displayVertical, panelOpen });\r\n            if (displayVertical && !panelOpen) toggleDisplayVertical();\r\n            togglePaneOpen();\r\n          }}\r\n        />\r\n      </div>\r\n      <div className=\"middle\">\r\n        <h1>CODE EDITOR</h1>\r\n      </div>\r\n      <div className=\"right\">\r\n        {!displayVertical ? (\r\n          <VerticalSplit onClick={toggleDisplayVertical} />\r\n        ) : (\r\n          <HorizontalSplit onClick={toggleDisplayVertical} />\r\n        )}\r\n      </div>\r\n    </header>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport { useContext } from \"react\";\r\nimport { CodeContext } from \"../context/code\";\r\n\r\nexport default function Output() {\r\n  const { source } = useContext(CodeContext);\r\n  return (\r\n    <div className=\"Output\">\r\n      <iframe srcDoc={source} />\r\n    </div>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport files from \"../config/files\";\r\nimport { Icon } from \"@iconify/react\";\r\nimport { useContext } from \"react\";\r\nimport { CodeContext } from \"../context/code\";\r\nimport { PaneOpenContext } from \"../context/paneOpen\";\r\n\r\nexport default function SidePane() {\r\n  const { current, setCurrent } = useContext(CodeContext);\r\n  const { panelOpen } = useContext(PaneOpenContext);\r\n  return (\r\n    <div className={\"SidePane \" + (panelOpen ? \"open\" : \"closed\")}>\r\n      {/* <h4>FILES</h4> */}\r\n      <div className=\"files\">\r\n        {files.map((file) => (\r\n          <File\r\n            {...file}\r\n            onClick={() => setCurrent(file.extension)}\r\n            highlighted={current == file.extension}\r\n          />\r\n        ))}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\ninterface FileProps {\r\n  name: string;\r\n  extension: string;\r\n  icon: any;\r\n  onClick?: () => any;\r\n  highlighted: boolean;\r\n}\r\n\r\nconst File = ({\r\n  name,\r\n  extension,\r\n  icon: i,\r\n  onClick,\r\n  highlighted,\r\n}: FileProps) => {\r\n  return (\r\n    <div className={\"File \" + (highlighted ? \"active\" : \"\")} onClick={onClick}>\r\n      <Icon icon={i} style={{ fontSize: 24 }} />\r\n      <p>\r\n        {name}.{extension}\r\n      </p>\r\n    </div>\r\n  );\r\n};\r\n","import React, { useEffect } from \"react\";\r\nimport { useContext } from \"react\";\r\nimport { Redirect, useParams } from \"react-router-dom\";\r\nimport Editor from \"../components/Editor\";\r\nimport NavBar from \"../components/NavBar\";\r\nimport Output from \"../components/Output\";\r\nimport SidePane from \"../components/SidePane\";\r\nimport { DisplayVerticalContext } from \"../context/displayVertical\";\r\nimport { v4 as uuid } from \"uuid\";\r\nimport { CodeContext, CodeProvider } from \"../context/code\";\r\n\r\nexport default function Edit() {\r\n  return (\r\n    <CodeProvider>\r\n      <EditPage />\r\n    </CodeProvider>\r\n  );\r\n}\r\n\r\nconst EditPage = () => {\r\n  const { displayVertical } = useContext(DisplayVerticalContext);\r\n  const { setId, id } = useContext(CodeContext);\r\n\r\n  return (\r\n    <CodeProvider>\r\n      <div>\r\n        <NavBar />\r\n        <section className=\"edit\">\r\n          <SidePane />\r\n          <div\r\n            className={\r\n              \"workspace \" + (displayVertical ? \"vertical\" : \"horizontal\")\r\n            }\r\n          >\r\n            <Editor />\r\n            <Output />\r\n          </div>\r\n        </section>\r\n      </div>\r\n    </CodeProvider>\r\n  );\r\n};\r\n","import React from \"react\";\nimport {\n  BrowserRouter as Router,\n  Switch,\n  Route,\n  Redirect,\n} from \"react-router-dom\";\nimport Edit from \"./pages/Edit\";\nimport Home from \"./pages/Home\";\nimport { v4 as uuid } from \"uuid\";\n\nexport default function App() {\n  return (\n    <Router>\n      <Switch>\n        <Route path=\"/edit/:id\" component={Edit} />\n        <Route path=\"/\">\n          <Redirect to={`/edit/${uuid()}`} />\n        </Route>\n      </Switch>\n    </Router>\n  );\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.scss\";\nimport App from \"./App\";\nimport { PaneOpenProvider } from \"./context/paneOpen\";\nimport { DisplayVerticalProvider } from \"./context/displayVertical\";\n\nReactDOM.render(\n  <DisplayVerticalProvider>\n    <PaneOpenProvider>\n      <App />\n    </PaneOpenProvider>\n  </DisplayVerticalProvider>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}